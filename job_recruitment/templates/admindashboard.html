<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>HR Admin Dashboard</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body { background: #eef1f5; font-family: 'Segoe UI', sans-serif; }
        .card-hover:hover { transform: translateY(-4px); transition: 0.25s; }
        .stat-card h2 { font-size: 40px; margin: 0; }
        .navbar-brand { font-size: 22px !important; }
        .quick-btn { min-width: 160px; }
        .activity-list li { border-left: 4px solid #0d6efd; }
    </style>
</head>

<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm">
    <div class="container">
        <a class="navbar-brand fw-bold" href="#">HR Admin Dashboard</a>

        <div class="d-flex text-white align-items-center">
            <span>üë§ {{ current_user }}</span>
            <a href="{% url 'registration:logout_view' %}" class="btn btn-light btn-sm ms-3">Logout</a>
        </div>
    </div>
</nav>

<div class="container mt-4">

    <!-- Welcome Box -->
    <div class="alert alert-primary shadow-sm py-3">
        <h4 class="mb-1">Hello, {{ current_user }} üëã</h4>
        <p class="mb-0">Here's your HR system overview at a glance.</p>
    </div>

    <!-- Stats Row -->
    <div class="row g-4 mt-2">

        <!-- Total Jobs -->
        <div class="col-md-3">
            <div class="card stat-card shadow-sm card-hover text-center p-3">
                <h6 class="text-muted mb-1">Total Job Postings</h6>
                <h2 class="fw-bold">{{ total_jobs }}</h2>
                <a href="{% url 'jobs:jobs_html' %}" class="btn btn-outline-primary btn-sm mt-2">Manage Jobs</a>
            </div>
        </div>

        <!-- Users -->
        <div class="col-md-3">
            <div class="card stat-card shadow-sm card-hover text-center p-3">
                <h6 class="text-muted mb-1">Registered Users</h6>
                <h2 class="fw-bold">{{ total_users }}</h2>
            </div>
        </div>

        <!-- Applications -->
        <div class="col-md-3">
            <div class="card stat-card shadow-sm card-hover text-center p-3">
                <h6 class="text-muted mb-1">Job Applications</h6>
                <h2 class="fw-bold">{{ total_applications }}</h2>
                <a href="#" class="btn btn-outline-primary btn-sm mt-2">View Applications</a>
            </div>
        </div>

        <!-- Pending Tasks -->
        <div class="col-md-3">
            <div class="card stat-card shadow-sm card-hover text-center p-3">
                <h6 class="text-muted mb-1">Pending HR Tasks</h6>
                <h2 class="fw-bold text-warning">{{ pending_tasks }}</h2>
                <a href="#" class="btn btn-outline-warning btn-sm mt-2">Review Tasks</a>
            </div>
        </div>

    </div>

    <!-- Quick Actions -->
    <div class="card shadow-sm mt-4">
        <div class="card-header bg-secondary text-white">
            <h5 class="mb-0">Quick Actions</h5>
        </div>
        <div class="card-body d-flex gap-2 flex-wrap">
            <a href="{% url 'jobs:job_create_html' %}" class="btn btn-success quick-btn">‚ûï Add New Job</a>
            <a href="{% url 'jobs:jobs_html' %}" class="btn btn-primary quick-btn">üìÑ Job List</a>
            <a href="#" class="btn btn-info text-white quick-btn">üë• Applicants</a>
            <a href="#" class="btn btn-dark quick-btn">‚öôÔ∏è System Settings</a>
        </div>
    </div>

    <!-- Recent Activity -->
    <div class="card shadow-sm mt-4 mb-5">
        <div class="card-header bg-dark text-white">
            <h5 class="mb-0">Recent Activity</h5>
        </div>

        <div class="card-body">
            {% if recent_activities %}
                <ul class="list-group activity-list">
                    {% for activity in recent_activities %}
                        <li class="list-group-item py-3">
                            <strong>{{ activity.user }}</strong>
                            <span class="text-muted"> ‚Ä¢ {{ activity.action }}</span>
                            <span class="text-muted float-end">{{ activity.timestamp }}</span>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p class="text-muted mb-0">No recent activity recorded.</p>
            {% endif %}
        </div>
    </div>

</div>

</body>
</html>
