<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Login - Job Recruitment</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { 
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            display: flex; 
            align-items: center; 
            justify-content: center; 
            height: 100vh; 
            font-family: 'Segoe UI', sans-serif;
        }
        .login-card { width: 100%; max-width: 450px; border: none; border-radius: 15px; overflow: hidden; }
        .nav-pills .nav-link { 
            border-radius: 0; 
            color: #6c757d; 
            font-weight: 600; 
            padding: 15px; 
            cursor: pointer;
        }
        .nav-pills .nav-link.active { background-color: #0d6efd; color: white; }
        .form-control { padding: 12px; }
        .btn-login { padding: 12px; font-weight: bold; }
    </style>
</head>
<body>

<div class="card shadow-lg login-card">
    
    <ul class="nav nav-pills nav-justified" id="pills-tab">
        <li class="nav-item">
            <a class="nav-link active" id="tab-applicant" onclick="setRole('Applicant')">Candidate Login</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="tab-admin" onclick="setRole('Admin')">HR Admin Login</a>
        </li>
    </ul>

    <div class="card-body p-4">
        
        <div class="text-center mb-4">
            <h4 class="fw-bold text-dark" id="login-title">Candidate Portal</h4>
            <p class="text-muted small">Please enter your credentials.</p>
        </div>

        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }} py-2 text-center small shadow-sm border-0">{{ message }}</div>
            {% endfor %}
        {% endif %}

        <form method="post">
            {% csrf_token %}
            
            <input type="hidden" name="login_type" id="login_type" value="Applicant">

            <div class="mb-3">
                <label class="form-label fw-bold small text-secondary">Email Address</label>
                <input type="email" name="email" class="form-control bg-light" required>
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold small text-secondary">Password</label>
                <input type="password" name="password" class="form-control bg-light" required>
            </div>

            <button type="submit" class="btn btn-primary w-100 btn-login mt-2">Sign In</button>
            
            <div class="text-center mt-4">
                <small class="text-muted">New here? <a href="{% url 'registration:signup_view' %}" class="text-decoration-none fw-bold">Create an Account</a></small>
            </div>
        </form>

    </div>
</div>

<script>
    function setRole(role) {
        // 1. Update Hidden Input Value
        document.getElementById('login_type').value = role;

        // 2. Update Header Text
        const title = document.getElementById('login-title');
        if (role === 'Admin') {
            title.innerText = "HR Admin Portal";
            title.className = "fw-bold text-primary";
        } else {
            title.innerText = "Candidate Portal";
            title.className = "fw-bold text-dark";
        }
        
        // 3. Toggle Active Tab Style
        document.getElementById('tab-applicant').classList.toggle('active', role === 'Applicant');
        document.getElementById('tab-admin').classList.toggle('active', role === 'Admin');
    }
</script>

</body>
</html>